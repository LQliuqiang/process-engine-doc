<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>流程引擎的基本了解</title>
    <style>
        processDesc ul > li {
            margin-top: 20px;
        }

        processDesc ol > li {
            margin-top: 10px;
        }

        processDesc p {
            text-indent: 2em;
            margin-top: 10px
        }

    </style>
</head>
<body class="processDesc">

<div >
    <h3>（一）工作流引擎使用场景</h3>
    <p>
        工作流在企业管理系统中是高频使用的功能，一个最常见的例子是请假加班申请与审批的过程。
        事实上，工作流引擎能支持的业务场景远远不止单据审批，几乎所有涉及到业务流转、
        多人按流程完成工作的场景背后都可以通过工作流引擎作为支撑。
        基于工作流引擎，可以搭建客户关系管理系统（CRM）、运输管理系统（TMS）、仓储管理系统（WMS）、财务费用系统等多种复杂业务系统。
        对于达到一定规模的企业，良好的 BPM（业务流程管理，Business Process Management）体系可以支持创建公司内横跨不同部门的复杂业务流程，
        既提高工作效率、又可推动企业规范化发展。
    </p>
</div>

<div class="mt once">
    <h3>（二）Flowable业务流程引擎下的类型的流程元素</h3>
    <ul>
        <li>
            <strong>事件(event)</strong>：事件通常用于为流程生命周期中发生的事情建模。
            <p>在 BPMN 2.0中，有两种主要的事件分类：捕获（catching）与抛出（throwing）事件。
                捕获事件为当流程执行到达这个事件时，会等待直到触发器动作。
                抛出事件当流程执行到达这个事件时，会触发一个触发器。
                具体事件包括定时器事件、启动事件、结束事件、消息事件、信号事件、边界事件等丰富类型。</p>
        </li>
        <li>
            <strong>顺序流(sequence flow)</strong>：顺序流是流程中两个元素间的连接器。
            <p>在流程执行过程中，一个元素被访问后，会沿着其所有出口顺序流继续执行。
                这意味着BPMN 2.0的默认是并行执行的：两个出口顺序流就会创建两个独立的、并行的执行路径。
                顺序流上定义条件（conditional sequence flow）时为条件顺序流。
                当离开 BPMN 2.0活动时，默认行为是计算其每个出口顺序流上的条件。
                当条件计算为true时，选择该出口顺序流。如果该方法选择了多条顺序流，则会生成多个执行，流程会以并行方式继续。
                但这种情况并不适用于网关（gateway），不同类型的网关，会用不同的方式处理带有条件的顺序流。
                所有的BPMN 2.0任务与网关都可以使用默认顺序流（default sequence flow）。
                只有当没有其他顺序流可以选择时，才会选择默认顺序流作为活动的出口顺序流。流程会忽略默认顺序流上的条件。
            </p>
        </li>
        <li>
            <strong>网关(gateway)</strong>：网关用于控制执行的流向，可类比路口的分叉来理解。
            <p>如按BPMN 2.0 的用词也即是执行的「标志（token）」。网关可以消费（consuming）与生成（generating）标志。网关可细分为下列类型：</p>
            <ol>
                <li>排他网关（exclusive gateway）：也叫异或网关 （XOR gateway），或者基于数据的排他网关 （exclusive data-based
                    gateway），用于对流程中的决策建模。当执行到达这个网关时，会按照所有出口顺序流定义的顺序对它们进行计算。选择第一个条件计算为 true
                    的顺序流（当没有设置条件时，认为顺序流为true）继续流程。使用排他网关时，只会选择一条顺序流。当多条顺序流的条件都计算为true时，会且仅会选择在XML中最先定义的顺序流继续流程。
                </li>
                <li>
                    并行网关：并行网关不计算条件，如果连接到并行网关的顺序流上定义了条件，会直接忽略该条件。并行网关（parallel
                    gateway）可以将执行分支（fork）为多条路径，也可以合并（join）多条入口路径的执行，并行网关的功能取决于其入口与出口顺序流。如果并行网关同时具有多条入口与出口顺序流，可以同时具有分支与合并的行为。在这种情况下，网关首先合并所有入口顺序流，然后分裂为多条并行执行路径。
                </li>
                <li>
                    包容网关：可看做排他网关与并行网关的组合。与排他网关一样，可以在包容网关的出口顺序流上定义条件，包容网关会计算条件。然而主要的区别是，包容网关与并行网关一样，可以同时选择多于一条出口顺序流。包容网关的汇聚行为比并行网关更复杂。
                </li>
                <li>
                    基于事件的网关：基于事件的网关（event-based
                    gateway）提供了根据事件做选择的方式。网关的每一条出口顺序流都需要连接至一个捕获中间事件。一个基于事件的网关，必须有两条或更多的出口顺序流。
                </li>
            </ol>
        </li>
        <li>
            <strong>任务(task)</strong>：Flowable 支持的任务类型超过十五种。
            <ol>
                <li>用户任务：用于对需要人工执行的任务进行建模。当流程执行到达用户任务时，会为指派至该任务的用户或组的任务列表创建一个新任务。用户任务允许标识到期日期以及直接指派给用户。
                </li>
                <li>邮件任务：Flowable 引擎可以向一个或多个收信人发送邮件，支持 cc、bcc、HTML 文本等等，使用支持 SMTP 的外部邮件服务器发送邮件。
                </li>
                <li>业务规则任务：业务规则任务（business rule task）用于同步地执行一条或多条规则。在 V6.3.0 到 V6.4.1 版本中，Flowable 使用名为 Drools Expert 的
                    Drools 规则引擎执行业务规则。截至 V6.4.1 版本，业务规则中包含的 .drl 文件，必须与定义了业务规则服务并执行规则的流程定义一起部署。这意味着流程中使用的所有 .drl
                    文件都需要打包在流程 BAR 文件中，与任务表单等类似。由于 Flowable 自己的规则引擎 DMN 功能逐渐完善，对业务规则任务的支持可能会在后续版本中变动，具体要看 Flowable
                    官方更新文档。
                </li>
                <li>其他的任务类型还有脚本任务、Web 服务任务、Shell 任务、Java 服务任务、执行监听器、任务监听器等。
                </li>
            </ol>
        </li>
        <li>
            <strong>子流程与调用活动</strong>：子流程（sub-process）是包含其他的活动、网关、事件等的活动。
            <p>其本身构成一个流程，并作为更大流程的一部分。子流程完全在父流程中定义（所以也称作嵌入式子流程）。在复杂流程流转的场景下中子流程较为多见，使用这一特性可以比较灵活地维护包含子流程的审批路径。
                调用活动（call activity）有别于一般的子流程，调用活动引用一个流程定义外部的流程，而子流程嵌入在原有流程定义内。调用活动的主要使用场景是，在多个不同流程定义中调用一个可复用的流程定义。
            </p>
        </li>
    </ul>


</div>


</body>
</html>